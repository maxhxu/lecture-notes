\section{Tutorial 2 (Sep 19, 2025)}

\begin{simplethm}
    Let $f$ be a field that augments an AVL tree $T$ of $n$ nodes, and suppose that the value of $f$ for each node $x$ depends on only the information in nodes $x$, $x.left$, $x.right$. Then we can maintain the values of $f$ in all nodes of $T$ during insertion and deletion without asymptotically affecting the $O(\log n)$ performance of these operations. 
\end{simplethm}

\noindent Examples of such fields $f$ include
\begin{description}
    \item[size] $x.size = x.right.size + x.left.size + 1$
    \item[max] the maximum data in the subtree rooted at $x$. $x.max = \text{max}\{ x.left, x.right, x.data \}$, or if we are max-ing over the keys, $x.max = x.right.max$ if $x.right \ne \textsc{Nil}$, $x.key$ otherwise
    \item[sum] sum of all keys in the subtree
    \item[min] minimum data/key in the subtree
\end{description}

\begin{problem}
    Count the number of inversions of array $A$ of length $n$. An inversion is a pair $(i, j)$ with $i < j$ and $A[i] > A[j]$. 
\end{problem}

\begin{problem}
    Given an example of an $n$-node AVL tree such that it contains a node, which when deleted from the tree requires $\Omega(\log_2 n)$ rotations to rebalance the tree. 
\end{problem}

Hint: give a recursive definition for a family of trees $\{ T_k \}_{k \in \mathbb{N}}$ of minimal size AVL tree of height $h$, for $h \in \mathbb{N}$, and consider deletion from $T_h$.
